# ES6 ç¬”è®°

ES6å­¦ä¹ ç¬”è®°

> æ³¨ï¼šæ­¤ç¬”è®°æ˜¯æˆ‘åœ¨ä¸»è¦ç”¨Swiftè¯­è¨€å¼€å‘ï¼Œå¯¹æ¯”æ•´ç†çš„ä¸€äº›æˆ‘æ„Ÿè§‰å¸¸ç”¨çš„åŠŸèƒ½ç‰¹æ€§ç‚¹ï¼ŒåŒ†åŒ†å¿™å¿™ï¼Œç²—ç²—æµ…æµ…ï¼Œä»¥åæ¦‚å…¨ï¼Œä»…è‡ªä»¥ä¸ºå®¹æ˜“æ··æ·†å’Œç±»æ¯”ä»¥åŠä¸åŒçš„çŸ¥è¯†ç‚¹ã€‚

## ç›® å½•
* [**var let const**](#var-let-const)
* [**è§£æ„èµ‹å€¼**](#è§£æ„èµ‹å€¼)
* [**å‡½æ•°**](#å‡½æ•°)
* [**æ•°ç»„çš„æ‰©å±•**](#æ•°ç»„çš„æ‰©å±•)
* [**å¯¹è±¡çš„æ‰©å±•**](#å¯¹è±¡çš„æ‰©å±•)
* [**Symbol**](#Symbol)
* [**Set å’Œ Map**](#Set-å’Œ-Map)
* [**Proxy**](#Proxy)

## var let const

* **var let åŒºåˆ«**

  var åœ¨ä»¥ä¸‹è¿™æ ·çš„ä»£ç å—é‡Œä¾ç„¶æ˜¯å…¨å±€å˜é‡ï¼Œä½†æ˜¯ let åœ¨é‡Œé¢æ˜¯å±€éƒ¨å˜é‡ã€‚
  
  ```js
  {
      var a = 1;
      let b = 2;
  }
  //è¾“å‡º: 1
  console.log(a);
  // æŠ¥é”™ï¼
  console.log(b);
  ```
  
  åœ¨ function é‡Œé¢ï¼Œvar å’Œ let åˆ™éƒ½ä¸å¯å–åˆ°ï¼Œå…¶å£°æ˜éƒ½æ˜¯ä»¥å±€éƒ¨å˜é‡å‘ˆç°ï¼Œåœ¨æˆ‘çœ‹æ¥å®ƒä»¬éƒ½æ˜¯ä¸€æ ·çš„ã€‚
  
  ```js
  function func() {
      var a = 1;
      a = 3;
      //è¾“å‡º 3
      console.log(a);
      let b = 2;
      b = 4;
      //è¾“å‡º 4
      console.log(b);
  }
  func();
  // æŠ¥é”™ï¼
  console.log(a);
  // æŠ¥é”™ï¼
  console.log(b);
  ```
  
  ä¸” var å‘½ä»¤å­˜åœ¨ â€œå˜é‡æå‡â€ï¼Œä¹Ÿå°±æ˜¯åªè¦ç”¨ var å®šä¹‰äº†å˜é‡ï¼Œå°±ç®—æ˜¯åœ¨å£°æ˜ä¹‹å‰å¼•ç”¨å®ƒï¼Œéƒ½ä¸ä¼šæŠ¥é”™ï¼›ä½†æ˜¯å¯¹ let æ¥è¯´ï¼Œå®ƒå°±å¾ˆå®‰å…¨äº†ï¼Œåœ¨å®šä¹‰ä¹‹å‰çš„å¼•ç”¨ï¼Œéƒ½ä¼šæŠ¥é”™ï¼
  
  ```js
  //undefined
  console.log(a);
  var a = 1;

  // æŠ¥é”™ï¼
  console.log(b);
  let b = 1;
  ```
  
  **æ€»ç»“ï¼š**ç°åœ¨æˆ‘è¿˜ä¸çŸ¥é“å¤šæ–‡ä»¶å…¨å±€å˜é‡ä¸­æ€ä¹ˆå£°æ˜ï¼Œä½†æ˜¯åœ¨å•æ–‡ä»¶ä¸­ï¼Œä¸€ä¸ª let å£°æ˜å°±è¶³å¤Ÿäº†ï¼åªè¦åœ¨ä»£ç å—é‡Œï¼Œlet å°±æ˜¯æ— æ•Œçš„ï¼Œåœ¨ä»£ç å—å¤–ï¼Œlet ä»€ä¹ˆéƒ½ä¸æ˜¯ã€‚

* **const**

  å®ƒå°±æ˜¯å£°æ˜å¸¸é‡ç”¨çš„ï¼Œæ³¨æ„è§„èŒƒï¼š**å¸¸é‡å…¨éƒ¨ç”¨å¤§äº›å­—æ¯è¡¨ç¤º**ã€‚
  
  ```js
  const PI = 3.14159;
  // æŠ¥é”™ï¼
  PI = "what?";
  ```
  
  ä½†æ˜¯ const ä¹Ÿä»…ä»…èƒ½ä¿è¯
  
* **å¯¹æ¯”è¯­è¨€**
  * **Swift**

     åœ¨ Swift ä¸­å£°æ˜å˜é‡çš„æ–¹æ³•åªæœ‰ var å±æ€§ï¼Œè¿™ä¸ª var åœ¨å•æ–‡ä»¶ä¸­ï¼Œå…¶ä½œç”¨å°±æ˜¯ES6ä¸­çš„ let ï¼
         
     è€Œ ES6 ä¸­çš„ constï¼Œåˆ™æ˜¯å£°æ˜å¸¸é‡çš„æ–¹æ³•ï¼Œä½œç”¨å’Œ Swift é‡Œçš„ let ä¸€æ‘¸ä¸€æ ·ã€‚

## è§£æ„èµ‹å€¼

* **ä»€ä¹ˆæ˜¯è§£æ„èµ‹å€¼ï¼Ÿ**

  æŒ‰ç…§ä¸€å®šæ¨¡å¼ï¼Œå¯¹å˜é‡èµ‹å€¼ã€‚JSæ”¯æŒæ•°ç»„ã€å¯¹è±¡çš„è§£æ„èµ‹å€¼ã€‚
  
  ```js
  let [a, b, c] = [1, 2, 3];
  //è¾“å‡ºï¼š1 2 3
  console.log(a, b, c)
  ```
  
  ```js
  let {a, b} = {a: "a", b: "b"}
  //è¾“å‡ºï¼ša b
  console.log(a, b)
  ```
  
* **å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼**

  å¯ä»¥ç›´æ¥ç”¨å­—ç¬¦ä¸²å»æ˜ å°„ä¸€ä¸ªæ•°ç»„ã€‚
  
  ```js
  let [a, b, c] = "hello"
  // è¾“å‡ºï¼šh e l
  console.log(a, b, c)
  ```
  
* **å¯¹æ¯”è¯­è¨€**

    * **Swift**

      swiftä¸­çš„è§£æ„èµ‹å€¼ä½“ç°åœ¨å…ƒç¥–ä¸Šé¢ï¼Œå…¶ä»–çš„å˜›ï¼Œå°±æ²¡æœ‰JSè¿™ä¹ˆå®½æ³›äº†ã€‚
      
      
## å‡½æ•°

* **å‡½æ•°å‚æ•°é»˜è®¤å€¼**
  
  ES6æä¾›äº†å‡½æ•°é»˜è®¤å€¼ï¼Œæ‰€ä»¥è¿™æ ·ä¸€ä¸ªå‡½æ•°çš„å†™æ³•ä¸ºï¼š
  
  ```js
  function hello(a, b = "b") {
      console.log(a);
      console.log(b);
  }
  //è¾“å‡ºï¼ša
  //     b
  hello("a")
  ```
  
* **å‡½æ•°çš„ length å±æ€§**

  å‡½æ•°çš„ length è¿”å›å‚æ•°çš„ä¸ªæ•°ï¼Œä½†æ˜¯æœ‰é»˜è®¤å€¼çš„å‚æ•°å´ä¸ç®—ã€‚
  
  ä¸¾ä¸ªğŸŒ°
  
  ```js
  let f = function (a, b, c = 0) {};
  console.log(f.length);
  //è¿™æ ·è™½ç„¶ä¸ä¼šæŠ¥é”™ï¼Œä½†ä¹Ÿä¸ä¼šæ”¹å˜lengthçš„å€¼
  f.length = 5;
  console.log(f.length);
  ```
  
* **å‡½æ•°çš„ rest å‚æ•°**

  å‡½æ•°çš„ rest å‚æ•°å…è®¸å‡½æ•°ä¼ å…¥å¤šä¸ªå‚æ•°ã€‚
  
  ```js
  function add(...values) {
      let sum = 0;

      for (const val of values) {
        sum += val;
      }

      return sum;
  }
  //è¾“å‡ºï¼š6
  console.log(add(1, 2, 3));
  ```
  
* **ç®­å¤´å‡½æ•°**

  ES6å‡ºç°çš„ä¸€ç§è¡¨ç°å‡½æ•°çš„æ–°æ–¹å¼ï¼Œç®­å¤´å‡½æ•°ï¼š
  
  ```js
  let f = v => v;
  //ç­‰åŒäº
  let f = function (v) { return v };
  
  let f = (a, b) => a + b;
  //ç­‰åŒäº
  let f = function (a, b) { return a + b; }
  ```
  
  æ‰€ä»¥ï¼Œä¸‹é¢è¿™ä¹ˆå†™ä¹Ÿæ˜¯å¯ä»¥çš„
  
  ```js
  let f = (a, b) => {
      a += 1;
      b += 1;
      return a + b;
  }
  //è¾“å‡ºï¼š5
  console.log(f(1, 2));
  ```

* **this**

  this æ®è¯´æ˜¯ä¸€ä¸ªå¾ˆè®©äººæç³Šæ¶‚çš„ä¸œè¥¿ï¼Œå…¶ä¿®é¥°çš„å¯¹è±¡å¾€å¾€æ˜¯ä¸Šä¸‹æ–‡ä¸­çš„å¯¹è±¡ã€‚
  
  **ç¬¬ä¸€ä¸ªå®éªŒï¼š**
  
  æˆ‘çœ‹äº†å¾ˆå¤šåšå®¢å†™çš„ this èƒ½å¤Ÿå–åˆ°é¡¶å±‚çš„ä¸œè¥¿ï¼Œä½†æ˜¯æˆ‘è‡ªå·±å®éªŒï¼Œå‘ç°å¹¶ä¸èƒ½ï¼Œæ¯”å¦‚ï¼š
  
  ```js
  let a = 10;
  function helloA() {
      this.a++;
      console.log(this.a);
  }
  //è¾“å‡º NaN
  helloA();
  ```
  
  > æˆ–è®¸æ˜¯æˆ‘è¿è¡Œç¯å¢ƒçš„åŸå› ï¼Œæˆ–æ˜¯ ES5 å’Œ ES6 å¯¹ `this` çš„æŒ‡å‘æ”¹å˜äº†ï¼Ÿæ„Ÿè§‰åè€…çš„å¯èƒ½å°ã€‚
  
  **ç¬¬äºŒä¸ªå®éªŒ**
  
  ä¸ºäº†éªŒè¯ this æ˜¯å¦èƒ½å¤Ÿå–åˆ°ä¸Šä¸‹æ–‡çš„å†…å®¹ï¼Œå¯¹ ES5 çš„ä¾¿æ·å‡½æ•° å’Œ ES6 çš„ç®­å¤´å‡½æ•° åšäº†ä¸‹å®éªŒï¼š
  
  ```js
  function helloB() {
      this.b = 10;
      let func = function() {
          this.b++;
          console.log(this.b);
      };
      func();
  }
  //è¾“å‡ºï¼š11
  helloB();
  ```
  
  çœ‹æ¥èƒ½å¤Ÿå–åˆ° `helloB` å—åŒºé‡Œçš„ `this.b`ï¼Œå¦‚æœä¹‹å‰ `this.b = 10;` è¿™æ¡è¯­å¥ç”¨ `let b = 10;`ï¼Œé‚£ä¹ˆæœ€åè¾“å‡ºçš„ç»“æœå°±ä¸º `NaN` äº†ã€‚So, why? æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¸ªæ ·å­ï¼Œæˆ‘ä»¥ä¸ºæ›¿æ¢è¯­å¥ä¹Ÿä¾ç„¶å¯ä»¥å¼•ç”¨åˆ°å‘¢ã€‚å¥‡æ€ªå¥‡æ€ªã€‚
  
  æ¥ä¸‹æ¥æ˜¯ ES6 çš„ç®­å¤´å‡½æ•°æµ‹è¯•ï¼š
  
  ```js
  function helloC() {
      this.c = 10;
      let func = () => {
          this.c++;
          console.log(this.c);
      };
      func();
  }
  //è¾“å‡ºï¼š11
  helloC();
  ```
  
  OKï¼Œå’Œä¸Šé¢å¾—åˆ°çš„ç»“æœä¸€æ ·ï¼Œé‚£ä¹ˆç»§ç»­æ›¿æ¢ `this.c = 10;` ä¸º `let c = 10;` å®éªŒå‘¢ï¼Œæœ€åè¾“å‡ºçš„ç»“æœä¹Ÿä¸º NaN äº†ã€‚
  
  æ‰€ä»¥è¿™ä¸ªå®éªŒä¸‹æ¥ï¼ŒçœŸçš„æœ‰äº›äº‘é‡Œé›¾é‡Œï¼Œ`this` çš„æ„ä¹‰ä½•åœ¨ï¼Œæˆ‘å…¨ç¨‹ç”¨ `let` å»å®šä¹‰ï¼Œç»“æœä¹Ÿæ˜¯ä¸€æ ·çš„â€¦â€¦
  
  **ç¬¬ä¸‰ä¸ªå®éªŒ**
  
  è¿™ä¸ªå®éªŒæ˜¯å¯¹å¯¹è±¡è¿›è¡Œçš„å®éªŒï¼ŒåŒæ ·å¯¹ä¾¿æ·å‡½æ•°å’Œç®­å¤´å‡½æ•°åšäº†æµ‹è¯•ã€‚
  
  å…ˆæ¥ä¾¿æ·å‡½æ•°ï¼š
  
  ```js
  var obj2 = {
      ab: 1,
      func: function() {
          this.ab++;
          console.log(this.ab);
      }
  };
  //è¾“å‡ºï¼š2
  obj2.func()
  ```
  
  OKï¼Œç”¨ `this` ç¡®å®å–åˆ°äº†å¯¹è±¡é‡Œçš„ `ab` å˜é‡ã€‚
  
  å†æ¥ç®­å¤´å‡½æ•°ï¼š
  
  ```js
  var obj1 = {
      ab: 1,
      func: () => {
          this.ab++;
          console.log(this.ab);
      }
  };
  //è¾“å‡ºï¼šNaN
  obj1.func();
  ```
  
  So, WTF, again?
  
  å¥½å§ï¼Œåˆ°è¿™åšäº†ä¸‰ä¸ªå®éªŒå·²ç» èŒèŒå“’ äº†ï¼Œè‡³äºä¹¦é‡Œè¿˜æœ‰å¯¹ `this` å„ç§æƒ…å†µä¸‹çš„å„ç§ç ”ç©¶ï¼Œå¥½äº†ï¼Œå¤Ÿäº†ï¼ŒI'm done here. ğŸ™Œ
  
* **åŒå†’å·è¿ç®—ç¬¦**

  â€¼ï¸
  
  ä¹¦ä¸Šè¿™é‡Œå†…å®¹å¤ªå°‘ï¼Œç†è§£ä¸é€å½»ï¼Œå…ˆç•™åœ¨è¿™ ğŸ˜“
  
* **å°¾è°ƒ**

  JS çš„å°¾é€’å½’ï¼Œåªä¿ç•™ä¸€ä¸ªè°ƒç”¨è®°å½•ï¼Œå‡å°‘äº†å¤æ‚åº¦å’Œæ ˆæº¢å‡ºã€‚
  
  å³æœ€å `return` çš„ä¸€å®šæ˜¯å‡½æ•°æœ¬èº«å°±å¯ä»¥äº†ã€‚
  
* **å¯¹æ¯”è¯­è¨€**

    * **Swift**

      å…³äºé»˜è®¤å€¼ï¼ŒSwift é‡Œä¹Ÿæœ‰ã€‚
      
      å‡½æ•°çš„ `length` å±æ€§ï¼Œæˆ‘åœ¨ swift é‡Œæ²¡æœ‰ç”¨åˆ°è¿‡ï¼Œå¯èƒ½æ˜¯å‚æ•°ä¼ é€’æ²¡ä¼ è¿‡é‚£ä¹ˆçµæ´»å§ï¼Œä¹Ÿå°±æ˜¯ Rest å‚æ•°ï¼Œæˆ‘åœ¨ swift é‡Œé¡¶å¤šå°±ä¼ ä¸ªæ•°ç»„äº†ï¼›ä½†æ˜¯åœ¨çµæ´»çš„ ES é‡Œï¼Œè¿™æ ·ç”¨ `length` åˆ¤æ–­å¯èƒ½æŒºæœ‰å¿…è¦çš„å§ã€‚
      
      ç®­å¤´å‡½æ•°è¿™ç§æ–°é¢–çš„å‡½æ•°è¡¨è¾¾æ–¹å¼ï¼Œé¢ï¼Œå¾ˆå®¹æ˜“è®©æˆ‘è”æƒ³åˆ° Swift çš„é—­åŒ…ï¼Œä½†æ˜¯ JS ä¹Ÿæœ‰é—­åŒ…ï¼Œæ‰€ä»¥ç®­å¤´å‡½æ•°åªæ˜¯å‡½æ•°çš„å¦ä¸€ç§è¡¨ç°å½¢å¼ç½¢äº†ï¼Œä¸è¿‡å¥½åƒ JS çš„é—­åŒ…ä¹Ÿæ˜¯å‡½æ•°å½¢å¼çš„ï¼Ÿ
      
      `this` ç¡®å®æ˜¯ä¸€ä¸ªè®©äººå¤´ç–¼çš„ä¸œè¥¿ï¼Œæ¶‰çŒè™½æµ…ï¼Œä½†å·²ç»æœ‰äº›äº‘é›¾é‡Œäº†ã€‚Swift é‡Œæ²¡æœ‰è¿™æ ·ä¸€ä¸ª `this`, ä¸ä¹Ÿç”¨çš„æŒºå¥½çš„å˜›ã€‚åœ¨æˆ‘çœ‹æ¥è¿™ä¸ª `this` å°±åƒä¸€ä¸ªè¯­æ³•ç³–æ ·çš„ä¸œè¥¿ï¼Œå½“ç„¶è‚¯å®šä¸æ˜¯è¯­æ³•ç³–èƒ½æ¦‚æ‹¬çš„ï¼Œä½†æ˜¯ï¼Œæå¾—é‚£ä¹ˆå¤æ‚ï¼ŒçœŸçš„æœ‰å¿…è¦å—ï¼Ÿ
      
      æœ€åå…³äºâ€œå°¾é€’å½’â€ï¼Œè¿™ä¸ªåœ¨åˆšæ‰å­¦ä¹ çš„è¿‡ç¨‹ä¸“é—¨å»æœç´¢ Swift é‡Œçš„å°¾é€’å½’ï¼Œå‘ç°çœŸçš„æœ‰è¿™æ ·çš„é—®é¢˜ï¼Œå…¶åŸç†å’Œ JS çš„å¤§æ¦‚æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥åœ¨ Swift å¼€å‘é‡Œä¹Ÿè¦æ³¨æ„è¿™ä¸ªé—®é¢˜ï¼Œé¿å…å¤æ‚åº¦è¿‡é«˜ã€‚
      
      
## æ•°ç»„çš„æ‰©å±•

å¼€å§‹ä¹‹å‰å…ˆç»™è‡ªå·±ä¸€ä¸ªåˆç†è§£é‡Š......


> è‡³äºè·³è¿‡å­—ç¬¦ä¸²æ‰©å±•é‚£ç« è¿™å¼ å´æ²¡è·³è¿‡ï¼Œæ˜¯å› ä¸ºå­—ç¬¦ä¸²å¤„ç†è¿™å—ï¼Œç›¸ä¼¼çš„ä¸œè¥¿å¾ˆå¤šï¼Œè€Œä¸”å¤§å¤šä¹Ÿéƒ½æ˜¯ç°ç”¨ç°æŸ¥çš„ã€‚æ•°ç»„è¿™å—çš„ä¸œè¥¿ç¡®æ˜¯ç»å¸¸å¤„ç†çš„ï¼Œè‡³å°‘æˆ‘åœ¨iOSç¼–ç¨‹è¿™å—æ˜¯çš„ï¼Œæ‰€ä»¥æŒæ¡é«˜æ•ˆç‡çš„æ–¹æ³•å¾ˆæœ‰å¿…è¦ï¼Œé‚£ä¹ˆå¼€å§‹å§ï¼

* **æ‰©å±•è¿ç®—ç¬¦**

  å°±æ˜¯ â€œ...[1, 2, 3]â€ è¿™æ ·çš„ä¸‰ç‚¹è¿ç®—ç¬¦ï¼Œå’Œå‡½æ•°é‡Œçš„ Rest å‚æ•°ä½œç”¨ç›¸åï¼Œè¯¥è¿ç®—ç¬¦å°†æ•°ç»„è§£æ„ã€‚
  
  ```js
  function func1(...values) {
      console.log(values);
  }

  function func2(x, y) {
      console.log(x + y);
  }

  //è¾“å‡ºï¼š[ 1, 2 ]
  func1(1, 2);
  //è¾“å‡ºï¼š3
  func2(...[1, 2]);
  ```
  
  **ä½œç”¨æœ‰ï¼š**
  
  * å¯ç”¨äºæ•°ç»„çš„åˆå¹¶ã€‚
    
     ```js
     let arr = [1, 2];
     arr.push(...[3, 4]);
     //è¾“å‡ºï¼š[1, 2, 3, 4]
     console.log(arr);
     ```
     
     å½“ç„¶ï¼Œè¿˜æœ‰å¦ä¸€ç§å†™æ³•ï¼š
     
     ```js
     let arr = [1, 2];
     arr = [...arr, ...[3, 4]];
     //è¾“å‡ºï¼š[ 1, 2, 3, 4 ]
     console.log(arr);
     ```
     
  * æ•°ç»„çš„æ·±å¤åˆ¶

     æ™®é€šçš„ â€œ=â€ è¿ç®—ç¬¦åªæ˜¯æµ…å¤åˆ¶ï¼Œè¦æƒ³è¿›è¡Œæ•°ç»„çš„æ·±å¤åˆ¶ä¹Ÿç”¨åˆ°æ‰©å±•è¿ç®—ç¬¦ã€‚
     
     ```js
     let a1 = [1, 2];
     let a2 = [...a1];
     //è¾“å‡ºï¼š[ 1, 2 ]
     console.log(a2);
     ```
  
  * å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå­—ç¬¦æ•°ç»„

     ```js
     let hello = "Hello";
     let helloArr = [...hello];
     //è¾“å‡ºï¼š[ 'H', 'e', 'l', 'l', 'o' ]
     console.log(helloArr);
     ```
     
* **Array.from()**

  æ˜¯ä¸€ä¸ªå°†ç±»æ•°ç»„çš„å¯¹è±¡è½¬åŒ–ä¸ºæ•°ç»„çš„å‡½æ•°ã€‚**æˆ‘è¯•è¿‡å°†é‚£ç§ç±»ä¼¼å­—å…¸çš„å¯¹è±¡ç›´æ¥ç”¨è¿™ä¸ªå‡½æ•°è½¬åŒ–ï¼Œä½†æ²¡æˆåŠŸã€‚**
  
  ä½†æ˜¯å°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•°ç»„å€’æ˜¯å¯è¡Œçš„ã€‚
  
  ```js
  let hello = "hello";
  let helloArr = Array.from(hello);
  //è¾“å‡ºï¼š[ 'h', 'e', 'l', 'l', 'o' ]
  console.log(helloArr);
  ```
  
* **Array.of()**

  è¿™ä¸ªæ˜¯å°†ä¸€ç»„å€¼ï¼Œè½¬åŒ–ä¸ºæ•°ç»„çš„å‡½æ•°ã€‚
  
  ```js
  Array.of(3, 11, 8) // [3,11,8]
  ```
  
* **find() å’Œ findIndex()**

  `find`å’Œ`findIndex`å¯ä»¥æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ å½“å‰å€¼ã€å½“å‰å€¼åºå·ä»¥åŠåŸæ•°ç»„ã€‚ä¸åŒçš„æ˜¯ï¼Œ`find`è¿”å›è¦æ‰¾çš„é‚£ä¸ªå€¼ï¼Œ`findIndex`è¿”å›è¦æ‰¾çš„é‚£ä¸ªå€¼çš„ä½ç½®ã€‚
  
  ```js
  let value = [1, 5, -10, 15].find((n) => n < 0);
  //è¾“å‡ºï¼š-10
  console.log(value);
  ```
  
  ```js
  let index = [1, 5, -10, 15].findIndex((n) => n < 0);
  //è¾“å‡ºï¼š2
  console.log(index);
  ```
  
  å¦‚æœæ‰¾ä¸åˆ°çš„æƒ…å†µå‘¢
  
  ```js
  let value = [1, 5, 10, 15].find((n) => n < 0);
  //è¾“å‡ºï¼šundefined
  console.log(value);
  ```
  
  ```js
  let index = [1, 5, 10, 15].findIndex((n) => n < 0);
  //è¾“å‡ºï¼š-1
  console.log(index);
  ```
  
* **fill()**
  
  fillç”¨äºåˆå§‹åŒ–æ•°ç»„éå¸¸æ–¹ä¾¿ã€‚
  
  ```js
  let arr = Array(3).fill(0);
  //è¾“å‡ºï¼š[ 0, 0, 0 ]
  console.log(arr);
  ```
  
  ä½†æ˜¯ï¼Œå¦‚æœå¡«å……ç±»å‹ä¸ºå¯¹è±¡ï¼Œé‚£ä¹ˆå½¢æˆçš„æ•°ç»„ä¸ºæµ…æ‹·è´ï¼Œå› ä¸ºå¡«å……çš„å¯¹è±¡çš„æŒ‡é’ˆéƒ½æŒ‡å‘åŒä¸€åœ°å€ã€‚
  
  ```js
  let arr = Array(3).fill({name: "Mike"});
  arr[0].name = "Dean";
  //è¾“å‡ºï¼š[ { name: 'Dean' }, { name: 'Dean' }, { name: 'Dean' } ]
  console.log(arr);
  ```
  
  ä½†æ˜¯ï¼Œå¦‚æœç›´æ¥å»èµ‹å€¼ï¼Œé‚£ä¹ˆOKï¼š
  
  ```js
  let arr = Array(3).fill({name: "Mike"});
  arr[0] = {name: "Dean"};
  //è¾“å‡ºï¼š[ { name: 'Dean' }, { name: 'Mike' }, { name: 'Mike' } ]
  console.log(arr);
  ```
  
* **keys()ã€values() å’Œ entries()**

  æ˜¯ é”®ã€å€¼ã€é”®å€¼å¯¹ çš„**éå†**ã€‚
  
  ```js
  let arr = ["a", "b"];

  for (const index of arr.keys()) {
      console.log(index);
  }
  //è¾“å‡ºï¼š0
  //     1

  for (const value of arr.values()) {
      console.log(value);
  }
  //è¾“å‡ºï¼ša
  //     b

  for (const keypair of arr.entries()) {
      console.log(keypair);
  }
  //è¾“å‡ºï¼š[ 0, 'a' ]
  //     [ 1, 'b' ]
  ```
  
* **include()**

  æ˜¯å¦åŒ…å«ã€‚
  
  ```js
  let arr = ["a", "b"];
  //è¾“å‡ºï¼štrue
  console.log(arr.includes("b"));
  ```

* **flat() å’Œ flatMap()**

  `flat`å°†å¤šç»´æ•°ç»„æ‹‰ä¼¸æˆä¸€ä½æ•°ç»„ã€‚
  
  `flatMap`è¿™ä¸ªæ–¹æ³•åœ¨æˆ‘çš„ VSCode ä¸Šé¢è¿è¡Œæ²¡æœ‰å¾—åˆ°é¢„æƒ³çš„ç»“æœï¼Œä¸çŸ¥é“å…¶ä»–ç¯å¢ƒæ€ä¹ˆæ ·ï¼Œè¿™é‡Œæˆ‘ç”¨ `flat().map()`æ›¿ä»£ã€‚
  
  ```js
  let arr = [1, [2, 3], [4]].flat();
  //è¾“å‡ºï¼š[ 1, 2, 3, 4 ]
  console.log(arr);

  let arr1 = [1, [2, 3], [4]].flat().map((n) => n * 2);
  //è¾“å‡ºï¼š[ 2, 4, 6, 8 ]
  console.log(arr1);
  ```
  
* **å…¶ä»–æ–¹æ³•**

  ```js
  // forEachæ–¹æ³•
  [,'a'].forEach((x,i) => console.log(i)); // 1

  // filteræ–¹æ³•
  ['a',,'b'].filter(x => true) // ['a','b']

  // everyæ–¹æ³•
  [,'a'].every(x => x==='a') // true

  // reduceæ–¹æ³•
  [1,,2].reduce((x,y) => x+y) // 3

  // someæ–¹æ³•
  [,'a'].some(x => x !== 'a') // false

  // mapæ–¹æ³•
  [,'a'].map(x => 1) // [,1]

  // joinæ–¹æ³•
  [,'a',undefined,null].join('#') // "#a##"

  // toStringæ–¹æ³•
  [,'a',undefined,null].toString() // ",a,,"
  ```
  
* **å¯¹æ¯”è¯­è¨€**

    * **Swift**

       åœ¨å†™è¿™ä¸€å—çš„æ—¶å€™æˆ‘å°±åœ¨æƒ³æ·±æµ…æ‹·è´çš„é—®é¢˜ï¼Œå› ä¸º JS é‡Œç›´æ¥èµ‹å€¼ä¹Ÿåªæ˜¯æŒ‡é’ˆçš„æŒ‡å‘æ”¹å˜äº†ï¼Œä¾ç¨€è®°å¾—åœ¨ OC è¯­è¨€é‡Œä¹Ÿæ˜¯æœ‰æ·±æµ…æ‹·è´çš„é—®é¢˜ï¼Œæ‰€ä»¥åœ¨ Playground é‡Œåšäº†ä¸ªå®éªŒï¼Œå‘ç°ç›´æ¥èµ‹å€¼å°±æ˜¯æ·±æ‹·è´ï¼Œå› ä¸ºåŸæ•°ç»„å˜åŒ–åå’Œç›´æ¥èµ‹å€¼çš„æ•°ç»„å¹¶ä¸ç›¸åŒã€‚è‡³äºæœ‰æ–‡ç« è¯´ swift é‡Œ `struct` æ˜¯æ·±æ‹·è´ï¼Œ`class` æ˜¯æµ…æ‹·è´ï¼Œä¸æ·±ç©¶äº†ï¼Œè‡³å°‘ä¸€èˆ¬åšé¡¹ç›®æ²¡é‡åˆ°è¿™ä¹ˆéº»çƒ¦çš„ã€‚
       
       å…¶ä»–çš„ä¸€äº›æ–¹æ³•åœ¨ swift é‡Œä¹Ÿæœ‰ï¼Œå¯èƒ½ä¹Ÿæœ‰æ²¡æœ‰çš„ï¼Œç”¨åˆ°çš„ä¸€äº›æ–¹æ³•ä¸¤è€…éƒ½æ˜¯æœ‰çš„ï¼Œåæ­£è„šæœ¬è¯­è¨€å˜›ï¼Œå¤§å¤šéƒ½æ˜¯äº’ç›¸å€Ÿé‰´çš„ã€‚
  
  
## å¯¹è±¡çš„æ‰©å±•

ä¸‹é¢æ˜¯æ™®é€šå¯¹è±¡ç±»å‹çš„ä¸€ä¸ªä¾‹å­ï¼š

```js
let person = {
    name: "å¼ ä¸‰",
    birth: "1991.01.01",
    hello() { console.log("Hello,", this.name); }
}

person.hello();
```

* **å±æ€§åè¡¨è¾¾å¼**

  å¯¹è±¡å†…éƒ¨å˜é‡çš„å¼•ç”¨æœ‰ä¸¤ç§æ–¹å¼ï¼š
  
  ```js
  //æ–¹æ³•ä¸€
  console.log(person.name);
  
  //æ–¹æ³•äºŒ
  console.log(person["name"]);
  ```
  
  å¦‚æœæœ‰å˜é‡å‹çš„â€œkeyâ€ï¼Œå¯ä»¥ç”¨ä¸‹é¢è¡¨ç¤ºæ–¹æ³•ï¼š
  
  ```js
  let abc = "abc";

  let obj = {
      foo: true,
      [abc]: 123
  };  
  //è¾“å‡ºï¼š123
  console.log(obj[abc]);
  ```
  
  å½“ç„¶ï¼Œè¿˜å¯ä»¥è¡¨ç°æˆè¿™æ ·ï¼š
  
  ```js
  let abc = "abc";
  
  let obj = {
      ["h" + "ello"]: "Hi"
  };  

  console.log(obj.hello);
  ```
  
* **Object.is()**

  æ­¤æ–¹æ³•æ˜¯åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰çš„æ–¹æ³•ï¼Œæ¯” â€œ===â€ æ›´åŠ çš„ä¸¥æ ¼ï¼Œå…¶å…·ä½“ä¸¥æ ¼ä¹‹å¤„æœ‰ä¸¤ä¸ªï¼š1âƒ£ï¸ `+0`ä¸ç­‰äº`-0`ï¼Œ2âƒ£ï¸ `NaN`ç­‰äºè‡ªèº«ã€‚
  
  ```js
  //è¾“å‡ºï¼štrue
  console.log(Object.is(NaN, NaN));

  //è¾“å‡ºï¼šfalse
  console.log(Object.is({}, {}));
  ```
  
* **Object.assign()**

  åˆå¹¶å¯¹è±¡çš„æ–¹æ³•ï¼Œä¸€æ¬¡æ€§å¯ä»¥åˆå¹¶ n ä¸ªã€‚ä½†å…¶æ˜¯æµ…æ‹·è´ï¼
  
  ```js
  const a = {a: 1};
  const b = {a: 2, b: 3};
  const c = {b: 4, c: 5};

  Object.assign(a, b, c);
  //è¾“å‡ºï¼š{ a: 2, b: 4, c: 5 }
  console.log(a);
  ```
  
* **Object.getOwnPropertyDescriptors()**

  è¿”å›å¯¹è±¡è‡ªèº«å±æ€§çš„æè¿°å¯¹è±¡ï¼Œçœ‹ä¾‹å­ï¼š
  
  ```js
  const obj = {
      hello: "hello",
      say() {
          console.log("What?");
      }
  }
  /*
  è¾“å‡ºï¼š
  { hello:
     { value: 'hello',
       writable: true,
       enumerable: true,
       configurable: true },
    say:
     { value: [Function: say],
       writable: true,
       enumerable: true,
       configurable: true } }
  */
  console.log(Object.getOwnPropertyDescriptors(obj));
  ```
  
* **å¯¹æ¯”è¯­è¨€**

    * **Swift**

       ES6 ä¸­å¯¹è±¡çš„å†™æ³•å¾ˆåƒ Swift ä¸­çš„å­—å…¸ï¼Œä¸è¿‡ï¼ŒåŠŸèƒ½æ›´åŠ å¼ºå¤§ï¼Œå› ä¸ºé‡Œé¢å¯ä»¥åŒ…å«å˜é‡è¿˜æœ‰æ–¹æ³•ã€‚åº”è¯¥æ˜¯ç”¨é€”ç”šå¹¿çš„ä¸€ä¸ªæ ¸å¿ƒå­˜åœ¨ã€‚
       
       
## Symbol

ES6 å¼•å…¥çš„ä¸€ç§æ–°çš„åŸå§‹æ•°æ®ç±»å‹ `Symbol`ï¼Œç”¨æ¥è¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ï¼Œæ˜¯JSçš„ç¬¬ä¸ƒç§æ•°æ®ç±»å‹ã€‚å› ä¸ºå…¶æ˜¯åŸå§‹ç±»å‹å€¼ï¼Œæ‰€ä»¥ä¸å¯ä»¥ç”¨ `new` åˆå§‹åŒ–ã€‚

```js
let s1 = Symbol('foo');
let s2 = Symbol('bar');

s1 // Symbol(foo)
s2 // Symbol(bar)

s1.toString() // "Symbol(foo)"
s2.toString() // "Symbol(bar)"
```

... é‡Œé¢æœ‰å¾ˆå¤šä½¿ç”¨æ–¹æ³•ï¼Œä½†æˆ‘å†³å®šå…ˆæå‰ç•¥è¿‡ï¼Œåˆ°ç”¨æ—¶å†åšè®°å½•ã€‚


## Set å’Œ Map

* **Set**

  ES6 æä¾›äº†æ–°çš„æ•°æ®ç»“æ„`Set`, ç±»ä¼¼äºæ•°ç»„ï¼Œä½†æ˜¯å†…éƒ¨æˆå‘˜éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡å¤å€¼ã€‚
  
* **Map**

  ç±»ä¼¼äºå¯¹è±¡çš„é”®å€¼å¯¹çš„é›†åˆï¼Œå…¶â€œé”®â€çš„èŒƒå›´ä¸é™äºå­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬å¯¹è±¡éƒ½èƒ½å½“ä½œé”®ã€‚
  
* **å¯¹æ¯”è¯­è¨€**

    * **Swift**
       
       å¯¹äº Swift æ¥è¯´ï¼Œæˆ‘çœŸæ­£ç”¨åˆ° `Set` çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯å¯¹ä¸€ä¸ªæ•°ç»„è¿›è¡Œå»é‡çš„æ—¶å€™ã€‚
  
## Proxy

è¿™ä¸ª`Proxy`â€œä»£ç†â€ï¼Œåšçš„å·¥ä½œæ­£å¦‚å…¶å­—é¢æ„æ€æ‰€è¿°ï¼Œåœ¨ç›®æ ‡å¯¹è±¡å‰è¿›è¡Œâ€œè½¬å‘â€ï¼Œè¿‡æ»¤åç»™ä½ ã€‚ä½†å¦‚æœä½ åªæ˜¯è®¾ç½®ä»£ç†ï¼Œå´ä¸å†™ä»»ä½•æ–¹æ³•ï¼Œåˆ™ä¼šæŠŠåŸå¯¹è±¡åŸå°ä¸åŠ¨ç»™ä½ ã€‚

* **get()**

  å¯¹è¯»å–åšæ‹¦æˆªã€‚
  
  ```js
  let person = {
      name: "å¼ ä¸‰"
  };
  
  let proxy = new Proxy(person, {
      get: function(target, property) {
          if (property in target) {
              return target[property];
          } else {
              throw new ReferenceError("å‡ºé”™å•¦ï¼Œæ²¡æœ‰è¿™ä¸ªå±æ€§ï¼")
          }
      }
  });

  //è¾“å‡ºï¼šå¼ ä¸‰
  console.log(proxy.name);
  // æŠ¥é”™ï¼
  console.log(proxy.age);
  ```
  
* **set()**

  å¯¹è¾“å…¥è¿›è¡Œæ”¹å†™ã€‚
  
  ```js
  let person = {
      name: "å¼ ä¸‰"
  };
  
  let proxy = new Proxy(person, {
      set: function(target, prop, value) {
          if (prop === 'age') {
              if (!Number.isInteger(value)) {
                  throw new TypeError("æ ¼å¼å‡ºé”™å•¦ï¼");
              } else if (value > 200) {
                  throw new RangeError("ä½ ç¡®å®šä½ è§è¿‡æ´»è¿‡200å²çš„äººï¼Ÿ")
              }
              target[prop] = value + "å²";
          } else {
              target[prop] = value;
          }
      }  
  });

  proxy.age = 11;
  //è¾“å‡ºï¼š11å²
  console.log(proxy.age);
  ```